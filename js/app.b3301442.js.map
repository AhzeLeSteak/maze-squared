{"version":3,"file":"js/app.b3301442.js","mappings":"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","sources":["webpack://maze-squared/./src/Engine/Texture/Texture.ts","webpack://maze-squared/./src/Rendering/CanvasImage.ts","webpack://maze-squared/./src/Engine/Texture/load_textures.ts","webpack://maze-squared/./src/Engine/utils.ts","webpack://maze-squared/./src/Rendering/Abstract/Canvas.ts","webpack://maze-squared/./src/Rendering/Abstract/Canvas2D.ts","webpack://maze-squared/./src/App.vue?83c2","webpack://maze-squared/./src/Engine/Player.ts","webpack://maze-squared/./src/Engine/Vector2.ts","webpack://maze-squared/./src/Engine/GameMap.ts","webpack://maze-squared/./src/Engine/Controller.ts","webpack://maze-squared/./src/Engine/Game.ts","webpack://maze-squared/./src/router/router.ts","webpack://maze-squared/./src/App.vue?847a","webpack://maze-squared/./src/App.vue","webpack://maze-squared/./src/main.ts","webpack://maze-squared/webpack/bootstrap","webpack://maze-squared/webpack/runtime/chunk loaded","webpack://maze-squared/webpack/runtime/compat get default export","webpack://maze-squared/webpack/runtime/define property getters","webpack://maze-squared/webpack/runtime/ensure chunk","webpack://maze-squared/webpack/runtime/get javascript chunk filename","webpack://maze-squared/webpack/runtime/get mini-css chunk filename","webpack://maze-squared/webpack/runtime/global","webpack://maze-squared/webpack/runtime/hasOwnProperty shorthand","webpack://maze-squared/webpack/runtime/load script","webpack://maze-squared/webpack/runtime/make namespace object","webpack://maze-squared/webpack/runtime/publicPath","webpack://maze-squared/webpack/runtime/css loading","webpack://maze-squared/webpack/runtime/jsonp chunk loading","webpack://maze-squared/webpack/startup"],"sourcesContent":["import { Vector2 } from \"@/Engine/Vector2\";\r\n\r\nexport type Pixel = {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n};\r\n\r\nexport class Texture {\r\n  public readonly columns: Array<Array<Pixel>>;\r\n\r\n  constructor(pixels: Array<Pixel>, public size: Vector2) {\r\n    this.columns = [];\r\n    for (let x = 0; x < this.size.x; x++) {\r\n      this.columns.push(pixels.filter((v, i) => i % this.size.y === x));\r\n    }\r\n  }\r\n}\r\n","import { Pixel, Texture } from \"@/Engine/Texture/Texture\";\r\nimport { Canvas2D } from \"./Abstract/Canvas2D\";\r\nimport { Game } from \"@/Engine/Game\";\r\n\r\nexport class CanvasImage extends Canvas2D {\r\n  constructor(image: HTMLImageElement) {\r\n    super({ x: image.width, y: image.height });\r\n    this.contextd2D.drawImage(image, 0, 0);\r\n  }\r\n\r\n  getTexture(): Texture {\r\n    const array: Array<Pixel> = [];\r\n    for (let y = 0; y < this.size.y; y++) {\r\n      for (let x = 0; x < this.size.x; x++) {\r\n        const data = this.contextd2D.getImageData(x, y, 1, 1).data;\r\n        // array.push(`#${rgbToHex(data[0])}${rgbToHex(data[1])}${rgbToHex(data[2])} `);\r\n        array.push({\r\n          r: data[0],\r\n          g: data[1],\r\n          b: data[2],\r\n        });\r\n      }\r\n    }\r\n    return new Texture(array, { ...this.size });\r\n  }\r\n\r\n  delete(): void {\r\n    this.canvas.remove();\r\n  }\r\n\r\n  drawContext(context: Game, dt: number): void {\r\n    console.log(\"image\");\r\n  }\r\n}\r\n","import { Texture } from \"@/Engine/Texture/Texture\";\r\nimport { CanvasImage } from \"@/Rendering/CanvasImage\";\r\n\r\nconst textures = new Map<string, Texture>();\r\n\r\nfunction getAllTexture() {\r\n  const textures_path = [\"wall.png\", \"wall_2.png\", \"floor.png\"];\r\n\r\n  const texture_name = (texture_path: string) => {\r\n    const s1 = texture_path.split(\"/\");\r\n    return s1[s1.length - 1].split(\".\")[0];\r\n  };\r\n\r\n  const promises: Array<Promise<void>> = [];\r\n\r\n  textures_path.forEach((path) => {\r\n    const image = new Image();\r\n    image.src = `assets/textures/${path}`;\r\n\r\n    promises.push(\r\n      new Promise((resolve) => {\r\n        image.addEventListener(\"load\", () => {\r\n          const canvas = new CanvasImage(image);\r\n          textures.set(texture_name(path), canvas.getTexture());\r\n          canvas.delete();\r\n          resolve();\r\n        });\r\n      })\r\n    );\r\n  });\r\n\r\n  return Promise.all(promises);\r\n}\r\n\r\nexport { textures, getAllTexture };\r\n","const pi = Math.PI;\r\nconst degreToRadian = pi / 180;\r\nconst two_pi = 2 * pi;\r\nconst pi_over_2 = pi / 2;\r\nconst pi_over_4 = pi / 4;\r\nexport { degreToRadian, pi, two_pi, pi_over_2, pi_over_4 };\r\n","import {Vector2} from \"@/Engine/Vector2\";\r\nimport {Game} from \"@/Engine/Game\";\r\n\r\nexport abstract class Canvas {\r\n    private static id = 0;\r\n    protected canvas: HTMLCanvasElement;\r\n\r\n    protected constructor(public size: Vector2, canvas ?: HTMLCanvasElement) {\r\n        this.canvas = canvas || this.createCanvas();\r\n        this.size.x = Math.floor(this.size.x);\r\n        this.size.y = Math.floor(this.size.y);\r\n        this.resizeCanvasHtml(this.canvas, this.size);\r\n    }\r\n\r\n    public abstract drawContext(context: Game, dt: number): void;\r\n\r\n    protected abstract reset(): void;\r\n\r\n    protected resizeCanvasHtml(canvas: HTMLCanvasElement, size: Vector2){\r\n        canvas.setAttribute(\"width\", size.x + \"\");\r\n        canvas.setAttribute(\"height\", size.y + \"\");\r\n    }\r\n\r\n    protected createCanvas(centered = true): HTMLCanvasElement {\r\n        const id = \"canvas_\" + Canvas.id++;\r\n        const canvasElement = document.createElement(\"canvas\");\r\n        canvasElement.setAttribute(\"id\", id);\r\n        canvasElement.setAttribute(\"style\", \"border: 3px solid black\");\r\n        if(centered)\r\n            canvasElement.classList.add('centered');\r\n        document.getElementById(\"canvas-container\")?.appendChild(canvasElement);\r\n        return canvasElement;\r\n    }\r\n\r\n\r\n}\r\n","import { Canvas } from \"@/Rendering/Abstract/Canvas\";\r\nimport { Vector2 } from \"@/Engine/Vector2\";\r\n\r\nexport abstract class Canvas2D extends Canvas {\r\n  protected contextd2D: CanvasRenderingContext2D;\r\n\r\n  protected constructor(size: Vector2, canvas ?: HTMLCanvasElement) {\r\n    super(size, canvas);\r\n    const context = this.canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n    context.lineCap = \"round\";\r\n    context.lineJoin = \"round\";\r\n    context.strokeStyle = \"black\";\r\n    context.lineWidth = 1;\r\n\r\n    this.contextd2D = context;\r\n  }\r\n\r\n  protected drawLine(x1: number, y1: number, x2: number, y2: number): void {\r\n    this.contextd2D.beginPath();\r\n    this.contextd2D.moveTo(x1, y1);\r\n    this.contextd2D.lineTo(x2, y2);\r\n    this.contextd2D.stroke();\r\n  }\r\n\r\n  public drawSquare(x: number, y: number, width: number, height: number): void {\r\n    this.contextd2D.fillRect(x, y, width, height);\r\n  }\r\n\r\n  protected reset(): void {\r\n    this.contextd2D.fillStyle = \"white\";\r\n    this.drawSquare(0, 0, this.size.x, this.size.y);\r\n  }\r\n\r\n  protected setColor(red: number, green: number, blue: number): void {\r\n    this.contextd2D.strokeStyle = `rgb(${red}, ${green}, ${blue})`;\r\n  }\r\n}\r\n","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"background\" }, null, -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://github.com/AhzeLeSteak/maze-squared\",\n  title: \"Github repo\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"img\", {\n    src: \"/assets/ui/logo.png\",\n    id: \"main-logo\",\n    alt: \"main_logo\"\n  })\n], -1)\nconst _hoisted_3 = { key: 0 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_router_view = _resolveComponent(\"router-view\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _hoisted_2,\n    (_ctx.inited)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n          _createVNode(_component_router_view, { game: _ctx.game }, null, 8, [\"game\"])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { Vector2 } from \"@/Engine/Vector2\";\r\nimport { pi_over_2, two_pi } from \"@/Engine/utils\";\r\nimport { GameMap } from \"@/Engine/GameMap\";\r\n\r\nexport class Player {\r\n  /**\r\n   * Angle en radian\r\n   */\r\n  public angle = -pi_over_2;\r\n  public readonly speed = 2; //tile per second\r\n  public readonly rotation_speed = 120; // deg per second\r\n  private box_type = 0;\r\n\r\n  constructor(public pos: Vector2) {\r\n    this.pos.x += 0.5;\r\n    this.pos.y += 0.5;\r\n  }\r\n\r\n  addAngle(da: number): void {\r\n    this.angle += da;\r\n    this.angle = (this.angle + two_pi) % two_pi;\r\n  }\r\n\r\n  walk(map: GameMap, dt: number, angle = this.angle): void {\r\n    const nextPoint = this.getNextPointWalking(dt, angle);\r\n    const old_pos: Vector2 = { ...this.pos };\r\n    if (map.box(nextPoint.x, nextPoint.y, true) !== 1) {\r\n      this.pos.x = nextPoint.x;\r\n      this.pos.y = nextPoint.y;\r\n    } else if (map.box(this.pos.x, nextPoint.y, true) !== 1) {\r\n      this.pos.y = nextPoint.y;\r\n    } else if (map.box(nextPoint.x, this.pos.y, true) !== 1) {\r\n      this.pos.x = nextPoint.x;\r\n    }\r\n\r\n    const diff_pos: Vector2 = {\r\n      x: Math.floor(this.pos.x) - Math.floor(old_pos.x),\r\n      y: Math.floor(this.pos.y) - Math.floor(old_pos.y),\r\n    };\r\n\r\n    const direction =\r\n      diff_pos.x === 1\r\n        ? \"RIGHT\"\r\n        : diff_pos.x === -1\r\n        ? \"LEFT\"\r\n        : diff_pos.y === 1\r\n        ? \"DOWN\"\r\n        : \"UP\";\r\n\r\n    const new_type = Math.floor(map.box(this.pos.x, this.pos.y));\r\n    if (new_type > 1 && this.box_type !== new_type) {\r\n      const { v, angle: n_angle } = map.getThrough(\r\n        { x: this.pos.x, y: this.pos.y },\r\n        this.angle,\r\n        direction,\r\n        true\r\n      );\r\n      this.pos.x = v.x;\r\n      this.pos.y = v.y;\r\n      this.angle = n_angle;\r\n    }\r\n    this.box_type = new_type;\r\n  }\r\n\r\n  getNextPointWalking(\r\n    dt: number,\r\n    angle = this.angle,\r\n    speed: number = this.speed\r\n  ): Vector2 {\r\n    const x = this.pos.x + Math.cos(angle) * speed * dt;\r\n    const y = this.pos.y + Math.sin(angle) * speed * dt;\r\n    return { x, y };\r\n  }\r\n\r\n  update(map: GameMap): void {\r\n    /*\r\n\t\tconst new_type = map.box(this.pos.x, this.pos.y);\r\n\t\tif(new_type > 1 && this.box_type !== new_type) {\r\n\t\t  const v = map.getThrough({x: this.pos.x, y: this.pos.y}, this.angle, true);\r\n\t\t  this.pos.x = v.x;\r\n\t\t  this.pos.y = v.y;\r\n\t\t}\r\n\t\tthis.box_type = new_type;\r\n\r\n\t\t */\r\n  }\r\n}\r\n","type Vector2 = {\r\n  x: number;\r\n  y: number;\r\n};\r\n\r\nconst infinite: Vector2 = {\r\n  x: Infinity,\r\n  y: Infinity,\r\n};\r\n\r\nfunction distance(v1: Vector2, v2: Vector2): number {\r\n  return Math.sqrt(\r\n    (v1.x - v2.x) * (v1.x - v2.x) + (v1.y - v2.y) * (v1.y - v2.y)\r\n  );\r\n}\r\n\r\nexport { Vector2, infinite, distance };\r\n","import { distance, infinite, Vector2 } from \"./Vector2\";\r\nimport { pi, pi_over_2, two_pi } from \"./utils\";\r\n\r\nexport class GameMap {\r\n  // <editor-fold desc=\"Attributes and constructor\">\r\n  map_info: {\r\n    boxes: Array<number>;\r\n    playerPos: Vector2;\r\n  } = {\r\n    boxes: [],\r\n    playerPos: { x: 5, y: 5 },\r\n  };\r\n\r\n  size: Vector2 = {\r\n    x: 10,\r\n    y: 10,\r\n  };\r\n\r\n  constructor() {\r\n    this.load();\r\n  }\r\n\r\n  // </editor-fold>\r\n\r\n  // <editor-fold desc=\"Box gestion\">\r\n\r\n  get boxes(): Array<number> {\r\n    return this.map_info.boxes;\r\n  }\r\n\r\n  public load(): void {\r\n    this.map_info.boxes = [\r\n      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 0, 0, 0, 0, 1, 3, 1, 1, 0, 1, 0, 0,\r\n      0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1,\r\n      1, 2, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0,\r\n      0, 0, 0, 0, 1, 1, 1, 1, 3, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\r\n    ];\r\n  }\r\n\r\n  to_index(v: Vector2): number {\r\n    return Math.floor(v.x) + Math.floor(v.y) * this.size.x;\r\n  }\r\n\r\n  box(x: number, y: number, can_oob = false): number {\r\n    x = Math.floor(x);\r\n    y = Math.floor(y);\r\n    if (this.isOutOfBound({ x, y })) {\r\n      if (can_oob) return 1;\r\n      throw new Error(`Out of bound : {x:${x}, y:${y}}`);\r\n    }\r\n    return this.boxes[x + y * this.size.x];\r\n  }\r\n\r\n  isOutOfBound({ x, y }: Vector2): boolean {\r\n    return x < 0 || y < 0 || x >= this.size.x || y >= this.size.y;\r\n  }\r\n\r\n  setBox(v: Vector2, box_type: number): void {\r\n    const index = this.to_index(v);\r\n    if (Math.floor(this.boxes[index]) !== box_type || box_type < 2) {\r\n      this.boxes[index] = box_type;\r\n    } else {\r\n      this.boxes[index] += 0.25;\r\n      if (this.boxes[index] - box_type === 1) {\r\n        this.boxes[index]--;\r\n      }\r\n    }\r\n  }\r\n\r\n  // </editor-fold>\r\n\r\n  // <editor-fold desc=\"Map exploration\">\r\n  getNextPoint(\r\n    { x, y }: Vector2,\r\n    angle: number\r\n  ): {\r\n    point: Vector2;\r\n    distance: number;\r\n    wallCol: number;\r\n    from: \"HORIZONTAL\" | \"VERTICAL\";\r\n    pointsToDraw: Array<Vector2>;\r\n    pointBreak: Array<number>;\r\n    squaresToDraw: Array<Vector2>;\r\n  } {\r\n    const in_range_angle = (a: number) => (a + two_pi) % two_pi;\r\n    angle = in_range_angle(angle);\r\n    const pointsToDraw: Array<Vector2> = [];\r\n    const squaresToDraw: Array<Vector2> = [];\r\n    const pointBreak: Array<number> = [];\r\n\r\n    let from: \"HORIZONTAL\" | \"VERTICAL\" = \"HORIZONTAL\";\r\n    const directionV = () => (angle > Math.PI ? \"UP\" : \"DOWN\");\r\n    const directionH = () =>\r\n      angle > pi_over_2 && angle < 3 * pi_over_2 ? \"LEFT\" : \"RIGHT\";\r\n\r\n    let old_x = x;\r\n    let old_y = y;\r\n    let nx = x;\r\n    let ny = y;\r\n\r\n    const get_box_type = () => {\r\n      let dx = 0;\r\n      let dy = 0;\r\n      if (nx % 1 === 0 && directionH() === \"LEFT\") {\r\n        dx = -1;\r\n      }\r\n      if (ny % 1 === 0 && \"HORIZONTAL\" && directionV() === \"UP\") {\r\n        dy = -1;\r\n      }\r\n\r\n      squaresToDraw.push({ x: Math.floor(nx) + dx, y: Math.floor(ny) + dy });\r\n      return this.box(Math.floor(nx) + dx, Math.floor(ny) + dy, true);\r\n    };\r\n\r\n    let dist = 0;\r\n    let i = 0;\r\n\r\n    try {\r\n      do {\r\n        if (i++ > 100) {\r\n          return {\r\n            point: infinite,\r\n            distance: Infinity,\r\n            wallCol: 0,\r\n            from,\r\n            pointsToDraw: [],\r\n            pointBreak,\r\n            squaresToDraw: [],\r\n          };\r\n        }\r\n\r\n        const diff_x_left_side =\r\n          (nx % 1) + (nx % 1 === 0 && directionH() === \"LEFT\" ? 1 : 0);\r\n        const diff_x_right_side = 1 - diff_x_left_side;\r\n        const diff_y_up_side =\r\n          (ny % 1) + (ny % 1 === 0 && directionV() === \"UP\" ? 1 : 0);\r\n        const diff_y_down_side = 1 - diff_y_up_side;\r\n\r\n        const angle1 = in_range_angle(\r\n          Math.atan2(diff_y_down_side, diff_x_right_side)\r\n        ); // DOWN RIGHT CORNER\r\n        const angle2 = in_range_angle(\r\n          Math.atan2(diff_y_down_side, -diff_x_left_side)\r\n        ); // DOWN LEFT CORNER\r\n        const angle3 = in_range_angle(\r\n          Math.atan2(-diff_y_up_side, -diff_x_left_side)\r\n        ); // UP LEFT CORNER\r\n        const angle4 = in_range_angle(\r\n          Math.atan2(-diff_y_up_side, diff_x_right_side)\r\n        ); // UP RIGHT CORNER\r\n\r\n        let direction: \"RIGHT\" | \"DOWN\" | \"LEFT\" | \"UP\";\r\n\r\n        const tmp_x = nx;\r\n        const tmp_y = ny;\r\n        if (angle < angle1) {\r\n          // RIGHT\r\n          nx = nx - (nx % 1) + 1;\r\n          ny = (nx - old_x) * Math.tan(angle) + old_y;\r\n          from = \"VERTICAL\";\r\n          direction = \"RIGHT\";\r\n        } else if (angle < angle2) {\r\n          // DOWN\r\n          ny = ny - (ny % 1) + 1;\r\n          nx = (old_y - ny) * Math.tan(angle - pi_over_2) + old_x;\r\n          from = \"HORIZONTAL\";\r\n          direction = \"DOWN\";\r\n        } else if (angle < angle3) {\r\n          // GAUCHE\r\n          if (nx % 1 === 0) {\r\n            nx -= 1;\r\n          } else {\r\n            nx = nx - (nx % 1);\r\n          }\r\n          ny = (nx - old_x) * Math.tan(angle - pi) + old_y;\r\n          from = \"VERTICAL\";\r\n          direction = \"LEFT\";\r\n        } else if (angle < angle4) {\r\n          // HAUT\r\n          if (ny % 1 === 0) {\r\n            ny -= 1;\r\n          } else {\r\n            ny = ny - (ny % 1);\r\n          }\r\n          nx = (old_y - ny) * Math.tan(angle - pi_over_2) + old_x;\r\n          from = \"HORIZONTAL\";\r\n          direction = \"UP\";\r\n        } else {\r\n          // RIGHT AGAIN\r\n          nx = nx - (nx % 1) + 1;\r\n          ny = (nx - old_x) * Math.tan(angle) + old_y;\r\n          from = \"VERTICAL\";\r\n          direction = \"RIGHT\";\r\n        }\r\n        old_x = tmp_x;\r\n        old_y = tmp_y;\r\n\r\n        dist += distance({ x: old_x, y: old_y }, { x: nx, y: ny });\r\n        pointsToDraw.push({ x: nx, y: ny });\r\n\r\n        const box_type = get_box_type();\r\n        if (box_type > 1) {\r\n          const { v, angle: n_angle } = this.getThrough(\r\n            { x: nx, y: ny },\r\n            angle,\r\n            direction\r\n          );\r\n          nx = v.x;\r\n          ny = v.y;\r\n          old_x = nx;\r\n          old_y = ny;\r\n          angle = n_angle;\r\n          pointBreak.push(pointsToDraw.length);\r\n          pointsToDraw.push({ x: nx, y: ny });\r\n        }\r\n      } while (get_box_type() !== 1);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n    const wallCol = (from === \"HORIZONTAL\" ? nx : ny) % 1;\r\n\r\n    return {\r\n      point: {\r\n        x: nx,\r\n        y: ny,\r\n      },\r\n      distance: dist,\r\n      wallCol,\r\n      from,\r\n      pointsToDraw,\r\n      pointBreak,\r\n      squaresToDraw,\r\n    };\r\n  }\r\n\r\n  public getThrough(\r\n    v: Vector2,\r\n    angle: number,\r\n    direction: \"RIGHT\" | \"DOWN\" | \"LEFT\" | \"UP\",\r\n    isPlayer = false\r\n  ): {\r\n    v: Vector2;\r\n    angle: number;\r\n  } {\r\n    const nv = this.getOtherBox(\r\n      v.x - (v.x % 1 === 0 && direction === \"LEFT\" ? 1 : 0),\r\n      v.y - (v.y % 1 === 0 && direction === \"UP\" ? 1 : 0)\r\n    );\r\n\r\n    const rotation =\r\n      (this.box(\r\n        v.x - (v.x % 1 === 0 && direction === \"LEFT\" ? 1 : 0),\r\n        v.y - (v.y % 1 === 0 && direction === \"UP\" ? 1 : 0)\r\n      ) %\r\n        1) /\r\n      0.25;\r\n\r\n    const diff: Vector2 = {\r\n      x: v.x % 1,\r\n      y: v.y % 1,\r\n    };\r\n\r\n    if (rotation == 2) {\r\n      if (direction == \"UP\" || direction == \"DOWN\") {\r\n        diff.x = 1 - diff.x;\r\n        diff.y = direction === \"UP\" ? 1 - diff.y : diff.y * -1;\r\n        if (isPlayer && direction === \"UP\") {\r\n          nv.y++;\r\n        }\r\n      } else {\r\n        diff.y = 1 - diff.y;\r\n        diff.x = direction === \"LEFT\" ? 1 - diff.x : diff.x * -1;\r\n        if (isPlayer && direction === \"LEFT\") {\r\n          nv.x++;\r\n        }\r\n      }\r\n\r\n      return {\r\n        v: {\r\n          x: nv.x + diff.x,\r\n          y: nv.y + diff.y,\r\n        },\r\n        angle: (angle + pi) % two_pi,\r\n      };\r\n    }\r\n\r\n    const dirs: Array<\"UP\" | \"RIGHT\" | \"LEFT\" | \"DOWN\"> = [\r\n      \"UP\",\r\n      \"RIGHT\",\r\n      \"DOWN\",\r\n      \"LEFT\",\r\n    ];\r\n\r\n    for (let i = 0; i < rotation; i++) {\r\n      //rotate\r\n      const x = diff.x;\r\n      diff.x = 1 - diff.y;\r\n      diff.y = x;\r\n      direction = dirs[(dirs.indexOf(direction) + 1) % 4];\r\n      angle = (angle + pi_over_2) % two_pi;\r\n    }\r\n\r\n    // #### corrections\r\n\r\n    switch (rotation === 0 && direction) {\r\n      case \"DOWN\":\r\n        nv.y++;\r\n        break;\r\n      case \"RIGHT\":\r\n        nv.x++;\r\n        break;\r\n    }\r\n    switch (rotation === 0 && isPlayer && direction) {\r\n      case \"UP\":\r\n        nv.y--;\r\n        break;\r\n      case \"LEFT\":\r\n        nv.x--;\r\n        break;\r\n    }\r\n\r\n    switch (rotation == 1 && isPlayer && direction) {\r\n      case \"DOWN\":\r\n        nv.y++;\r\n        break;\r\n      case \"RIGHT\":\r\n        nv.x++;\r\n        break;\r\n      case \"UP\":\r\n        nv.y--;\r\n        break;\r\n      case \"LEFT\":\r\n        nv.x--;\r\n        break;\r\n    }\r\n\r\n    switch (rotation == 1 && !isPlayer && direction) {\r\n      case \"LEFT\":\r\n        nv.x--;\r\n        break;\r\n      case \"DOWN\":\r\n        nv.y++;\r\n        break;\r\n    }\r\n\r\n    switch (rotation === 3 && direction) {\r\n      case \"UP\":\r\n        nv.y--;\r\n        break;\r\n      case \"RIGHT\":\r\n        nv.x++;\r\n    }\r\n\r\n    switch (rotation === 3 && isPlayer && direction) {\r\n      case \"LEFT\":\r\n        nv.x--;\r\n        break;\r\n      case \"DOWN\":\r\n        nv.y++;\r\n        break;\r\n    }\r\n\r\n    return {\r\n      v: {\r\n        x: nv.x + diff.x,\r\n        y: nv.y + diff.y,\r\n      },\r\n      angle,\r\n    };\r\n  }\r\n\r\n  public getOtherBox(x: number, y: number): Vector2 {\r\n    x = Math.floor(x);\r\n    y = Math.floor(y);\r\n    const box_type = Math.floor(this.box(x, y));\r\n    if (box_type <= 1) {\r\n      throw new Error(box_type + \" can not be a teleporter\");\r\n    }\r\n    for (let i = 0; i < this.boxes.length; i++) {\r\n      if (Math.floor(this.boxes[i]) === box_type && i !== x + y * this.size.x) {\r\n        return {\r\n          x: i % this.size.x,\r\n          y: Math.floor(i / this.size.x),\r\n        };\r\n      }\r\n    }\r\n    throw new Error(`Can't find other box of type ${box_type}`);\r\n  }\r\n\r\n  // </editor-fold>\r\n}\r\n","import { Game } from \"@/Engine/Game\";\r\nimport { degreToRadian, pi, pi_over_2 } from \"@/Engine/utils\";\r\n\r\nexport class Controller {\r\n  private UP = false;\r\n  private DOWN = false;\r\n  private LEFT = false;\r\n  private RIGHT = false;\r\n  private STRAFE_LEFT = false;\r\n  private STRAFE_RIGHT = false;\r\n\r\n  constructor(private game: Game) {\r\n    this.bindEvents();\r\n  }\r\n\r\n  update(dt: number): void {\r\n    const speed = this.game.player.rotation_speed;\r\n    if (this.RIGHT) this.game.player.addAngle(degreToRadian * speed * dt);\r\n    else if (this.LEFT) this.game.player.addAngle(-degreToRadian * speed * dt);\r\n\r\n    const side = this.STRAFE_LEFT || this.STRAFE_RIGHT;\r\n    const forward = this.UP || this.DOWN;\r\n    if (!side && !forward) return;\r\n\r\n    let delta_speed = 1;\r\n    let diff_angle = 0;\r\n    let base_angle = this.game.player.angle;\r\n\r\n    if (side)\r\n      //si on\r\n      diff_angle = this.STRAFE_RIGHT ? pi_over_2 : -pi_over_2;\r\n    if (forward) {\r\n      if (this.DOWN) base_angle += pi;\r\n      if (side) {\r\n        //diagonal movement\r\n        diff_angle /= this.DOWN ? -2 : 2; //45° angle\r\n        delta_speed = 1 / Math.sqrt(2); //waling speed divided by sqrt(2) (pythagorean theorem)\r\n      }\r\n    }\r\n\r\n    this.game.player.walk(\r\n      this.game.map,\r\n      dt * delta_speed,\r\n      base_angle + diff_angle\r\n    );\r\n  }\r\n\r\n  bindEvents(): void {\r\n    const listener = (event: KeyboardEvent) => {\r\n      const val = event.type === \"keydown\";\r\n      switch (event.code) {\r\n        case \"KeyW\":\r\n          this.UP = val;\r\n          break;\r\n        case \"KeyS\":\r\n          this.DOWN = val;\r\n          break;\r\n        case \"KeyQ\":\r\n          this.LEFT = val;\r\n          break;\r\n        case \"KeyE\":\r\n          this.RIGHT = val;\r\n          break;\r\n        case \"KeyA\":\r\n          this.STRAFE_LEFT = val;\r\n          break;\r\n        case \"KeyD\":\r\n          this.STRAFE_RIGHT = val;\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", listener);\r\n    document.addEventListener(\"keyup\", listener);\r\n  }\r\n}\r\n","import { Player } from \"@/Engine/Player\";\r\nimport { GameMap } from \"@/Engine/GameMap\";\r\nimport { Controller } from \"@/Engine/Controller\";\r\nimport { Canvas } from \"@/Rendering/Abstract/Canvas\";\r\nimport { getAllTexture, textures } from \"@/Engine/Texture/load_textures\";\r\n\r\nexport class Game {\r\n  public readonly player: Player;\r\n  public readonly map: GameMap;\r\n  private readonly controller: Controller;\r\n\r\n  private interval: any;\r\n  public readonly view_angle = 80;\r\n  private last_tick = 0;\r\n\r\n  constructor(public fps = 40) {\r\n    console.log(\"Instanciating Game class\");\r\n    this.controller = new Controller(this);\r\n    this.map = new GameMap();\r\n    this.player = new Player(this.map.map_info.playerPos);\r\n  }\r\n\r\n  init() {\r\n    console.log(\"Waiting for textures to load\");\r\n    return getAllTexture().then(() => {\r\n      console.log(\"Textures loaded\", textures);\r\n    });\r\n  }\r\n\r\n  loop(renderers: Canvas[]): void {\r\n    this.interval = setTimeout(() => this.loop(renderers), 1000 / this.fps);\r\n\r\n    const new_tick = new Date().getTime() / 1000;\r\n    const delta = new_tick - this.last_tick;\r\n    this.last_tick = new_tick;\r\n    this.update(delta);\r\n    this.render(delta, renderers);\r\n  }\r\n\r\n  stop(): void {\r\n    clearTimeout(this.interval);\r\n  }\r\n\r\n  render(dt: number, renderers: Canvas[]): void {\r\n    renderers.forEach((r) => r.drawContext(this, dt));\r\n  }\r\n\r\n  update(dt: number): void {\r\n    this.controller.update(dt);\r\n    this.player.update(this.map);\r\n  }\r\n}\r\n","import {createRouter, createWebHistory, RouteRecordRaw} from \"vue-router\";\r\n\r\nconst routes: RouteRecordRaw[] = [\r\n    {\r\n        path: '/play',\r\n        name: 'play',\r\n        component: () => import('../views/Play.vue')\r\n    },\r\n    {\r\n        path: '/edit',\r\n        name: 'edit',\r\n        component: () => import('../views/Edit.vue')\r\n    },\r\n    {\r\n        path: '/*',\r\n        redirect: '/play'\r\n    }\r\n]\r\n\r\nexport const router = createRouter({\r\n    history: createWebHistory(),\r\n    routes\r\n})","\r\nimport { defineComponent } from \"vue\";\r\nimport { Game } from \"@/Engine/Game\";\r\nimport {router} from \"@/router/router\";\r\n\r\nexport default defineComponent({\r\n  name: \"App\",\r\n  data(){\r\n    return{\r\n      inited: false,\r\n      game: new Game()\r\n    };\r\n  },\r\n  mounted() {\r\n    this.game.init().then(() => this.inited = true);\r\n    document.addEventListener('keypress', e => {\r\n      if(e.code === 'KeyP'){\r\n        router.push(this.$route.name === 'play' ? '/edit' : 'play');\r\n      }\r\n    })\r\n  },\r\n});\r\n","import { render } from \"./App.vue?vue&type=template&id=01e9c7ec&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=01e9c7ec&lang=css\"\n\nimport exportComponent from \"D:\\\\Programs\\\\Jetbrains\\\\projects\\\\maze-squared\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport {router} from \"@/router/router\";\r\n\r\ncreateApp(App)\r\n  //.use(store)\r\n  .use(router)\r\n  .mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"26\":\"ca61760a\",\"241\":\"400c3dfa\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + \"63e9c973\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"maze-squared:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/maze-squared/\";","var createStylesheet = function(chunkId, fullhref, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"26\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmaze_squared\"] = self[\"webpackChunkmaze_squared\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9182); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Texture","constructor","pixels","size","this","columns","x","push","filter","v","i","y","CanvasImage","Canvas2D","image","super","width","height","contextd2D","drawImage","getTexture","array","data","getImageData","r","g","b","delete","canvas","remove","drawContext","context","dt","console","log","textures","Map","getAllTexture","textures_path","texture_name","texture_path","s1","split","length","promises","forEach","path","Image","src","Promise","resolve","addEventListener","set","all","pi","Math","PI","degreToRadian","two_pi","pi_over_2","Canvas","createCanvas","floor","resizeCanvasHtml","setAttribute","centered","id","canvasElement","document","createElement","classList","add","getElementById","appendChild","getContext","lineCap","lineJoin","strokeStyle","lineWidth","drawLine","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","drawSquare","fillRect","reset","fillStyle","setColor","red","green","blue","_hoisted_1","_createElementVNode","class","_hoisted_2","href","title","alt","_hoisted_3","key","render","_ctx","_cache","$props","$setup","$data","$options","_component_router_view","_resolveComponent","_openBlock","_createElementBlock","_Fragment","inited","_createVNode","game","_createCommentVNode","Player","pos","addAngle","da","angle","walk","map","nextPoint","getNextPointWalking","old_pos","box","diff_pos","direction","new_type","box_type","n_angle","getThrough","speed","cos","sin","update","infinite","Infinity","distance","v1","v2","sqrt","GameMap","boxes","playerPos","load","map_info","to_index","can_oob","isOutOfBound","Error","setBox","index","getNextPoint","in_range_angle","a","pointsToDraw","squaresToDraw","pointBreak","from","directionV","directionH","old_x","old_y","nx","ny","get_box_type","dx","dy","dist","point","wallCol","diff_x_left_side","diff_x_right_side","diff_y_up_side","diff_y_down_side","angle1","atan2","angle2","angle3","angle4","tmp_x","tmp_y","tan","e","error","isPlayer","nv","getOtherBox","rotation","diff","dirs","indexOf","Controller","bindEvents","player","rotation_speed","RIGHT","LEFT","side","STRAFE_LEFT","STRAFE_RIGHT","forward","UP","DOWN","delta_speed","diff_angle","base_angle","listener","event","val","type","code","Game","fps","controller","init","then","loop","renderers","interval","setTimeout","new_tick","Date","getTime","delta","last_tick","stop","clearTimeout","routes","name","component","redirect","router","createRouter","history","createWebHistory","defineComponent","mounted","$route","__exports__","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","f","chunkId","reduce","u","miniCssF","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","call","inProgress","dataWebpackPrefix","l","url","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","parentNode","removeChild","bind","target","head","Symbol","toStringTag","value","p","createStylesheet","fullhref","reject","linkTag","rel","onLinkComplete","errorType","realHref","err","request","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}